---
import Layout from "../layouts/Layout.astro";
import Word from "../components/Word.astro";

if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const response: "nice" | "meh" | null =
      data.get("nice") != null
        ? "nice"
        : data.get("meh") != null
        ? "meh"
        : null;

    switch (response) {
      case "nice":
        console.log("Nice");
        break;
      case "meh":
        console.log("Meh");
        break;
      default:
        console.error(`Invalid response: ${response}`);
    }
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<Layout title="Muselunden? Du mener vel...">
  <main class="container mx-auto p-4">
    <p class="mt-8 flex flex-col items-center gap-6">
      <span class="text-3xl font-bold">Muselunden?</span>
      <span>Du mener vel</span>
      <span class="text-3xl font-bold">
        <Word />
      </span>
    </p>
    <div class="mt-16 flex justify-center gap-3">
      <form method="POST">
        <button
          class="w-28 rounded border px-4 py-2 text-slate-600"
          name="nice"
        >
          Nice
        </button>
      </form>
      <form method="POST">
        <button class="w-28 rounded border px-4 py-2 text-slate-600" name="meh">
          Meh
        </button>
      </form>
    </div>
    <p class="mt-2 text-center text-sm text-slate-600">
      Last et nytt ord ved Ã¥ stemme
    </p>
  </main>
</Layout>

<style></style>
